var dictionary = {
    de: {
        coupon_code: 'GUTSCHEINCODE',
        click_to_copy: 'Zum kopieren klicken!',
        instructions: 'ANLEITUNG',
        successfully_copied: 'Erfolgreich kopiert!',
        powered_by: 'Ad by'
    },
    en: {
        coupon_code: 'Coupon codes',
        click_to_copy: 'Click to copy!',
        instructions: 'INSTRUCTIONS',
        instructions_text: 'To copy the code, click on it. Enter the coupon code in the designated field in your shopping cart and the discount will be automatically deducted.',
        successfully_copied: 'Successfully copied!',
        powered_by: 'Ad by'
    },
    es: {
        coupon_code: 'Código de descuento',
        click_to_copy: '¡Haz clic para copiar!',
        instructions: 'Instrucciones',
        successfully_copied: 'Con éxito copiado!',
        powered_by: 'Ad by'
    },
    pt: {
        coupon_code: 'CÓDIGO DO CUPOM',
        click_to_copy: 'Clique para copiar!',
        instructions: 'INSTRUÇÕES',
        successfully_copied: 'Copiado com sucesso!',
        powered_by: 'Ad by'
    },
    fr: {
        coupon_code: 'Coupon codes',
        click_to_copy: 'Click to copy!',
        instructions: 'INSTRUCTIONS',
        successfully_copied: 'Successfully copied!',
        powered_by: 'Ad by'
    },
    it: {
        coupon_code: 'Codici promozionali',
        click_to_copy: 'Clicca per copiare!',
        instructions: 'Istruzioni',
        successfully_copied: 'Copiato con successo!',
        powered_by: 'Ad by'
    },
    pl: {
        coupon_code: 'Kod rabatowy',
        click_to_copy: 'Kliknij żeby kopiować!',
        instructions: 'Instrukcja',
        successfully_copied: 'Pomyślnie skopiowane!',
        powered_by: 'Ad by'
    },
    ru: {
        coupon_code: 'Коды купона',
        click_to_copy: 'Кликните, чтобы скопировать',
        instructions: 'Инструкции',
        successfully_copied: 'Успешно копируются!',
        powered_by: 'Ad by'
    },
    nl: {
        coupon_code: 'Couponcode',
        click_to_copy: 'Klik om te kopiëren!',
        instructions: 'Gebruiksaanwijzing',
        successfully_copied: 'Gekopieerd!',
        powered_by: 'Ad by'
    },
    no: {
        coupon_code: 'Coupon codes',
        click_to_copy: 'Click to copy!',
        instructions: 'INSTRUCTIONS',
        successfully_copied: 'Successfully copied!',
        powered_by: 'Ad by'
    },
    sv: {
        coupon_code: 'Coupon codes',
        click_to_copy: 'Click to copy!',
        instructions: 'INSTRUCTIONS',
        successfully_copied: 'Successfully copied!',
        powered_by: 'Ad by'
    },
    tr: {
        coupon_code: 'Coupon codes',
        click_to_copy: 'Click to copy!',
        instructions: 'INSTRUCTIONS',
        successfully_copied: 'Successfully copied!',
        powered_by: 'Ad by'
    },
    fi: {
        coupon_code: 'Coupon codes',
        click_to_copy: 'Click to copy!',
        instructions: 'INSTRUCTIONS',
        successfully_copied: 'Successfully copied!',
        powered_by: 'Ad by'
    }
};

var storage = {
    get: function(key, defaultValue) {
        if (localStorage[key]) {
            try {
                return JSON.parse(localStorage[key]);
            } catch (ex) {
            }
        }
        if (defaultValue === undefined) {
            return null;
        }
        return defaultValue;
    },
    set: function(key, newValue) {
        localStorage[key] = JSON.stringify(newValue);
    },
    remove: function(key) {
        if (localStorage[key]) {
            delete localStorage[key];
        }
    }
};

var language = (function() {
    var detectedLanguage = storage.get('detectedLanguageV2', null);

    if (detectedLanguage) {
        return detectedLanguage;
    }

    detectedLanguage = 'en';

    // list from http://msdn.microsoft.com/en-us/library/windows/apps/jj657969.aspx
    var supportedLanguages = {
        de: ['de', 'de-de', 'de-ch', 'de-at', 'de-lu', 'de-li'],
        es: ['es', 'es-es', 'es-ar', 'es-bo', 'es-cl', 'es-co', 'es-cr', 'es-do', 'es-ec', 'es-gt', 'es-hn', 'es-mx', 'es-ni', 'es-pa', 'es-pe', 'es-pr', 'es-py', 'es-sv', 'es-uy', 'es-ve'],
        fr: ['fr', 'fr-fr', 'fr-be', 'fr-ca', 'fr-ch', 'fr-lu'],
        it: ['it', 'it-it', 'it-ch'],
        pt: ['pt', 'pt-br', 'pt-pt'],
        ru: ['ru', 'ru-ru'],
        pl: ['pl', 'pl-pl'],
        nl: ['nl', 'nl-nl', 'nl-be'],
        no: ['nb', 'nb-no', 'nn', 'nn-no', 'no', 'no-no'],
        sv: ['sv', 'sv-se', 'sv-fi'],
        tr: ['tr', 'tr-tr']
    };

    var navigatorLanguage = ((navigator.language) ? navigator.language : navigator.userLanguage).toLowerCase();
    for (var languageCode in supportedLanguages) {
        if (supportedLanguages[languageCode].indexOf(navigatorLanguage) > -1) {
            detectedLanguage = languageCode;
            break;
        }
    }

    storage.set('detectedLanguageV2', detectedLanguage);
    return detectedLanguage;
})();

var userLanguage = dictionary[language];

