<!DOCTYPE html>
<!-- saved from url=(0048)https://k8t3w3m6.ssl.hwcdn.net/v6/11/12/bar.html -->
<html class=" chrome-55"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>brappui Bar</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./main.css">
</head>
<body>
    <div class="brappuibar">
        <div class="brappuibar__logo">

        </div>
        <div class="brappuibar__container">
            <div class="brappuibar__content">
                <a href="https://k8t3w3m6.ssl.hwcdn.net/v6/11/12/bar.html#" target="_blank" class="brappuibar-link" style="border:0">
                    <span class="brappuibar__highlight"><span id="fd_save"></span> <span class="brappui-savings"></span></span><span><span id="cheaper_price_found"></span></span></a><a href="https://k8t3w3m6.ssl.hwcdn.net/v6/11/12/bar.html#" target="_blank" class="brappui-merchant"></a>
                
            </div>

            <div class="brappuibar__inneractions">
                <div class="brappuibar__inneraction is-padding">
                    <a href="https://k8t3w3m6.ssl.hwcdn.net/v6/11/12/bar.html#" target="_blank" class="brappuibutton is-spiked"><span class="brappui-calltoaction"></span></a>
                </div>
                <div id="coupons-compare" class="brappuibar__inneraction" data-toggle-list="">
                    <a href="https://k8t3w3m6.ssl.hwcdn.net/v6/11/12/bar.html#" id="launch-compare" class="brappuibutton is-darkend">
                        <span id="compare_1"></span>
                        <span class="brappui-price_count"></span> <span id="fd_prices"></span><span id="compare_2"></span><img src="./icon-down.svg" alt="">
                    </a>
                </div>
                <div id="coupons-coupons" class="brappuibar__inneraction" data-toggle-list="">
                    <a href="https://k8t3w3m6.ssl.hwcdn.net/v6/11/12/bar.html#" id="launch-coupons" class="brappuibutton is-darkend" style="display:none">
                        <span id="coupons_1"></span>
                        <span class="brappui-coupon_count"></span>
                        <span id="fd_coupons"></span>
                        <span id="coupons_2"></span>
                        <img src="./icon-down.svg" alt="">
                    </a>
                </div>
                <div id="coupons-blog" class="brappuibar__inneraction" data-toggle-lis="">
                    <a href="https://k8t3w3m6.ssl.hwcdn.net/v6/11/12/bar.html#" target="_blank" id="launch-blog" class="brappuibutton is-darkend" style="display:none">
                        <span id="coupons-blog-string"></span>
                        <img id="coupons-button-right" src="./icon-right.svg" alt="">
                    </a>
                </div>
            </div>
            <div class="sd-table" style="display:table;">
                <div id="sd-partner" class="brappui-partnerInfo brappuibar__partnerinfo" style="display:table-cell;">Ad by rf</div>
                <a href="https://k8t3w3m6.ssl.hwcdn.net/v6/11/12/bar.html#" id="fd-partnerLink" class="brappuibar__partnerinfo" target="_blank" style="display: none;"></a>
                <div class="brappui-appinfo brappuibar__partnerinfo" style="display:table-cell;"> </div>
            </div>
        </div>
        <div class="brappuibar__actions">
            <a href="https://k8t3w3m6.ssl.hwcdn.net/v6/11/12/bar.html#" class="close-bar">
                <div class="brappuibar__action">
                    <img src="./icon-close.svg" alt="">

                </div>
            </a>
            <a href="http://similardeals.net/" class="brappuibar__partnerlink" target="_blank" alt="About">
                <div id="about-link" class="brappuibar__action" style="display: block;">
                    <img src="./icon-question.svg" alt="">
                </div>
            </a>
        </div>
    </div>
    <script src="./bar-localization.js.téléchargement"></script>
    <script src="./app.js.téléchargement"></script>
    <script>
        var offersLoaded = false;
        var couponsLoaded = false;
        var compareButtonSize = document.querySelector('#coupons-compare').clientWidth;
        var couponsButtonSize = document.querySelector('#coupons-coupons').clientWidth;
        var compareButton = document.getElementById('launch-compare');
        var couponsButton = document.getElementById('launch-coupons');
        var closeButton = document.querySelector('.close-bar');
        var compareButtonLoc;
        var couponsButtonLoc;

        var addEvent = function(object, type, callback) {
            if (object == null || typeof (object) == 'undefined') return;
            if (object.addEventListener) {
                object.addEventListener(type, callback, false);
            } else if (object.attachEvent) {
                object.attachEvent("on" + type, callback);
            } else {
                object["on" + type] = callback;
            }
        };

        var buttonLocation = function(buttonId) {
            var e = document.getElementById(buttonId);
            var offsetX = 0;
            while (e) {
                offsetX += e.offsetLeft;
                e = e.offsetParent;
            }
            return offsetX;
        };

        var getCompareButtonLocation = function() {
            compareButtonSize = document.querySelector('#coupons-compare').clientWidth / 2;
            compareButtonLoc = buttonLocation('launch-compare');
            return compareButtonLoc + compareButtonSize - 280;
        }

        var getCouponsButtonLocation = function() {
            couponsButtonSize = document.querySelector('#coupons-coupons').clientWidth / 2;
            couponsButtonLoc = buttonLocation('launch-coupons');
            return couponsButtonLoc + couponsButtonSize - 235;
        }

        addEvent(window, "resize", function() {
            compareButtonSize = document.querySelector('#coupons-compare').clientWidth / 2;
            couponsButtonSize = document.querySelector('#coupons-coupons').clientWidth / 2;
            compareButtonLoc = buttonLocation('launch-compare');
            couponsButtonLoc = buttonLocation('launch-coupons');

            brappui.main.fireEvent('resizeListBar', getCompareButtonLocation());
            brappui.main.fireEvent('resizeCouponslistBar', getCouponsButtonLocation());
        });

        brappui.storage = {
            get: function(key, defaultValue) {
                if (localStorage[key]) {
                    try {
                        return JSON.parse(localStorage[key]);
                    } catch (ex) {

                    }
                }
                if (defaultValue === undefined) {
                    return null;
                }
                return defaultValue;
            },
            set: function(key, newValue) {
                localStorage[key] = JSON.stringify(newValue);
            },
            remove: function(key) {
                if (localStorage[key]) {
                    delete localStorage[key];
                }
            }
        };

        brappui.main.addEventListener(compareButton, 'mouseenter', function() {
            brappui.main.fireEvent('toggleCompare', {
                position: getCompareButtonLocation(),
                open: true
            });
        });

        brappui.main.addEventListener(compareButton, 'click', function() {
            brappui.main.fireEvent('toggleCompare', {
                position: getCompareButtonLocation(),
                open: !offersLoaded
            });
        });

        brappui.main.addEventListener(couponsButton, 'mouseenter', function() {
            brappui.main.fireEvent('toggleCoupons', {
                position: getCouponsButtonLocation(),
                open: true
            });
        });

        brappui.main.addEventListener(couponsButton, 'click', function() {
            brappui.main.fireEvent('toggleCoupons', {
                position: getCouponsButtonLocation(),
                open: !couponsLoaded
            });
        });

        brappui.main.addEventListener(closeButton, 'click', function() {
            brappui.main.fireEvent('closeBar', '');
        });

        brappui.main.addEventListener(window, 'message', function(msg) {
            var data = null;
        
				try {
					data = JSON.parse(msg.data);
				} catch(e){};

				if (!data || !data.event) {
				return;
				}

            var setLocalizationStrings = function(data) {
                var firstOffer = data.offers[0];
                //document.querySelector('#fd_save').textContent = (firstOffer.product_savings_total > 0) ? userLanguage.save : userLanguage.this_is_the_best_price + ' (' + firstOffer.product_price_display + ')';
                //document.querySelector('#fd_prices').textContent = data.offerCount > 1 ? userLanguage.prices : userLanguage.price;
                //document.querySelector('#cheaper_price_found').textContent = (firstOffer.product_savings_total > 0) ? [userLanguage.cheaper_price_found, ''].join(' ') : [userLanguage.the_next_best_price, '', userLanguage.is_at, ''].join(' ');
                if (firstOffer.product_savings_total <= 0) {
                    document.querySelector('.brappuibar__highlight').style.background = 'none';
                    document.querySelector('#fd_save').textContent = userLanguage.alternative_price;
                    document.querySelector('#fd_prices').textContent = data.offerCount > 1 ? userLanguage.prices : userLanguage.price;
                } else {
                    document.querySelector('#fd_save').textContent = (firstOffer.product_savings_total > 0) ? '' : userLanguage.alternative_price;
                    document.querySelector('#fd_prices').textContent = data.offerCount > 1 ? userLanguage.prices : userLanguage.price;
                    //document.querySelector('#cheaper_price_found').textContent = (firstOffer.product_savings_total > 0) ? firstOffer.product_price_display : '';
                }
                if (language == 'de' || language == 'nl' || language == 'it' || language == 'pt') {
                    document.querySelector('#compare_2').textContent = ' ' + userLanguage.compare;
                } else {
                    document.querySelector('#compare_1').textContent = userLanguage.compare;
                }

            };

            switch (data.event) {
                case 'loadOfferContent':
                    var firstOffer = data.offers[0];
                    setLocalizationStrings(data);
                    document.querySelector('.brappui-price_count').innerHTML = data.offerCount;
					document.querySelector('.brappuibar-link').href = firstOffer.product_url;

                    if (firstOffer.product_savings_total > 0) {
                        document.querySelector('.brappui-savings').innerHTML = firstOffer.product_price_display;

                        document.querySelector('#cheaper_price_found').textContent = ' ' + userLanguage.at + ' ';
                        document.querySelector('.brappui-merchant').innerHTML = firstOffer.merchant_name;
                        document.querySelector('.brappui-merchant').href = firstOffer.product_url;
                        document.querySelector('.brappui-calltoaction').innerHTML = userLanguage.save + ' ' + firstOffer.product_savings_percentage_display + '%';
                        document.querySelector('.brappui-calltoaction').parentElement.href = firstOffer.product_url;
                    } else {
                        document.querySelector('.brappui-calltoaction').innerHTML = firstOffer.product_price_display + ' ' + userLanguage.at + ' ' + firstOffer.merchant_name;
                        document.querySelector('.brappui-calltoaction').parentElement.href = firstOffer.product_url;
                    }

                    offersLoaded = true;
                    break;
                case 'addPartnerInfo':
                    var partnerInfo = document.querySelector('#sd-partner');
                    var info = document.querySelector('#fd-partnerLink');
                    if (data.link) {
                        partnerInfo.innerHTML = userLanguage.powered_by;
                        info.href = data.link;
                        info.innerHTML = data.text;

                        if (data.appInfo) {
                            document.querySelector('.brappui-appinfo').innerHTML = ' ' + data.appInfo;
                        }
                    } else {
                        info.style.display = 'none';
                        partnerInfo.innerHTML = userLanguage.powered_by + ' ' + data.text;
                    }
                    break;
                case 'addAboutLink':
                    var link = document.querySelector('.brappuibar__partnerlink');
                    link.href = data.link;
                    link.setAttribute('alt', data.text);
                    // link.style.display = 'block';
                    document.querySelector('#about-link').style.display = 'block';
                    break;
                case 'loadCouponContent':
                    if (offersLoaded) {
                        if (data.coupons) {
                            brappui.storage.set('brappui_domain', data.domain);
                            document.querySelector('#launch-coupons').style.display = 'block';
                            document.querySelector('#launch-coupons').style.borderLeft = 'none';
                            document.querySelector('#launch-coupons').style.paddingLeft = '10px';
                            document.querySelector('#coupons-coupons').style.paddingLeft = '0px';
                            document.querySelector('#coupons-compare').style.paddingRight = '0px';

                            var couponsButtonString = userLanguage.show_coupons_and_offers;
                            document.querySelector('.brappui-coupon_count').innerHTML = couponsButtonString;
                            couponsLoaded = true;
                        } else {
                            document.querySelector('#coupons-coupons').style.display = 'none';
                            document.querySelector('#launch-blog').style.display = 'block';
                            document.querySelector('#launch-blog').style.borderLeft = 'none';
                            document.querySelector('#launch-blog').style.paddingLeft = '10px';
                            document.querySelector('#coupons-blog').style.paddingLeft = '0px';
                            document.querySelector('#coupons-compare').style.paddingRight = '0px';
                            var coupons = document.querySelector('#launch-blog');
                            coupons.style.display = 'block';

                            var couponsButtonString = userLanguage.show_coupons_and_offers;

                            document.querySelector('#coupons-blog-string').innerHTML = couponsButtonString;
                            coupons.href = data.couponLink;
                        }
                    } else {
                        document.querySelector('.brappuibar__content').innerHTML = userLanguage.weFoundCoupons;
                    }
                    break;
            }
        });
    </script>



</body></html>