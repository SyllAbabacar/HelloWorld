var thisPageScript=function(){var e=["brappContent","foxydeal","Pricescout","SmartShopper","SimilarDeals"],n=!1;if(e.forEach(function(e){window[e]&&(n=!0)}),!n){"null";window.brappContent={};var t=function(){!function e(n,t,r){function i(a,s){if(!t[a]){if(!n[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(e){var t=n[a][1][e];return i(t?t:e)},c,c.exports,e,n,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,t){function r(){}var i=n.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(n){var t=[];return window.addEventListener("message",function(e){var n=e.source;if((n===window||null===n)&&"process-tick"===e.data&&(e.stopPropagation(),t.length>0)){var r=t.shift();r()}},!0),function(e){t.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],2:[function(e,n,t){"use strict";function r(e){function n(e){return null===u?void c.push(e):void a(function(){var n=u?e.onFulfilled:e.onRejected;if(null===n)return void(u?e.resolve:e.reject)(l);var t;try{t=n(l)}catch(n){return void e.reject(n)}e.resolve(t)})}function t(e){try{if(e===d)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void o(n.bind(e),t,r)}u=!0,l=e,s()}catch(e){r(e)}}function r(e){u=!1,l=e,s()}function s(){for(var e=0,t=c.length;e<t;e++)n(c[e]);c=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var u=null,l=null,c=[],d=this;this.then=function(e,t){return new d.constructor(function(r,o){n(new i(e,t,r,o))})},o(e,t,r)}function i(e,n,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.resolve=t,this.reject=r}function o(e,n,t){var r=!1;try{e(function(e){r||(r=!0,n(e))},function(e){r||(r=!0,t(e))})}catch(e){if(r)return;r=!0,t(e)}}var a=e("asap");n.exports=r},{asap:4}],3:[function(e,n,t){"use strict";function r(e){this.then=function(n){return"function"!=typeof n?this:new i(function(t,r){o(function(){try{t(n(e))}catch(e){r(e)}})})}}var i=e("./core.js"),o=e("asap");n.exports=i,r.prototype=i.prototype;var a=new r((!0)),s=new r((!1)),u=new r(null),l=new r((void 0)),c=new r(0),d=new r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return u;if(void 0===e)return l;if(e===!0)return a;if(e===!1)return s;if(0===e)return c;if(""===e)return d;if("object"==typeof e||"function"==typeof e)try{var n=e.then;if("function"==typeof n)return new i(n.bind(e))}catch(e){return new i(function(n,t){t(e)})}return new r(e)},i.all=function(e){var n=Array.prototype.slice.call(e);return new i(function(e,t){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},t)}n[o]=a,0===--i&&e(n)}catch(e){t(e)}}if(0===n.length)return e([]);for(var i=n.length,o=0;o<n.length;o++)r(o,n[o])})},i.reject=function(e){return new i(function(n,t){t(e)})},i.race=function(e){return new i(function(n,t){e.forEach(function(e){i.resolve(e).then(n,t)})})},i.prototype.catch=function(e){return this.then(null,e)}},{"./core.js":2,asap:4}],4:[function(e,n,t){(function(e){function t(){for(;i.next;){i=i.next;var e=i.task;i.task=void 0;var n=i.domain;n&&(i.domain=void 0,n.enter());try{e()}catch(e){if(u)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),e;setTimeout(function(){throw e},0)}n&&n.exit()}a=!1}function r(n){o=o.next={task:n,domain:u&&e.domain,next:null},a||(a=!0,s())}var i={task:void 0,next:null},o=i,a=!1,s=void 0,u=!1;if("undefined"!=typeof e&&e.nextTick)u=!0,s=function(){e.nextTick(t)};else if("function"==typeof setImmediate)s="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=t,s=function(){l.port2.postMessage(0)}}else s=function(){setTimeout(t,0)};n.exports=r}).call(this,e("_process"))},{_process:1}],5:[function(e,n,t){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(e,n){var t=arguments.length?this.then.apply(this,arguments):this;t.then(null,function(e){setTimeout(function(){throw e},0)})})},{}],6:[function(e,n,t){e("asap");"undefined"==typeof Promise&&(Promise=e("./lib/core.js"),e("./lib/es6-extensions.js")),e("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6])};"function"!=typeof window.Promise&&t(),window.brappContent={library:{},core:{},engine:{},ui:{},index:{}},brappContent.originName="foxydeal",brappContent.library.natives=function(){var e=document.createElement("iframe");e.id="cleanIframe",e.style.display="none",e.src="about:blank",document.body.appendChild(e);var n=e.contentWindow.document.createElement("script");return n.src="//cdnjs.cloudflare.com/ajax/libs/json3/3.3.2/json3.min.js",e.appendChild(n),e.contentWindow}(),brappContent.library.objectManipulations=function(){var e={exports:{}},n={hasProperties:function(e,n){for(var t in n){if(!e.hasOwnProperty(t))return!1;if(!this.hasProperties(e[t],n[t]))return!1}return!0},ensureProperties:function(e,n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t]),this.isObject(n[t])&&(this.isEmpty(n[t])||this.ensureProperties(e[t],n[t]));return e},hasOwnValue:function(e,n){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===n)return!0;return!1},isEmpty:function(e){return!!this.isObject(e)&&0===Object.keys(e).length},isObject:function(e){return null!==e&&"object"==typeof e}};return e.exports=n,e.exports}(),brappContent.library.logger=function(){function e(){var e=null;return e="live"===brappContent.environment?function(e,n,t){}:function(e,n,t){},{error:function(n,t){e("error",n,t)},info:function(n,t){e("info",n,t)},warn:function(n,t){e("warn",n,t)},log:function(n,t){e("log",n,t)}}}var n={exports:{}};return brappContent.environment="live",n.exports=new e,n.exports}(),brappContent.library.eventHandlers=function(){var e={exports:{}};return e.exports={addEventListener:function(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t)},fireEvent:function(e,n){parent.postMessage(brappContent.library.natives.JSON.stringify({event:e,data:n}),"*")}},e.exports}(),brappContent.library.promiseCollection=function(){var e={exports:{}};return e.exports=function(){var e,n=[],t=!1,r=function(){for(var e=0;e<n.length;e++)n[e]();n.slice(0,n.length)};return{registerPromise:function(){return new Promise(function(r,i){return t?void r.apply(null,e):void n.push(function(){r.apply(null,e)})})},invoke:function(){e=arguments,r(),t=!0}}},e.exports}(),brappContent.core.init=function(){var e={exports:{}},n=brappContent.library.objectManipulations,t=function(){var e,t=[],r={partner:{id:1072,partnerId:1072,sub_id:"default",subId:"default"},rules:{},user:{uid:"",ext:"",locale:""},browser:{sf:!0},baseUrl:"https://go."+brappContent.originName+".com",aboutLink:"http://www."+brappContent.originName+".com/about/",tldArray:["com"],domain:{},config:{}},i=function(e){for(var n=0;n<t.length;n++)t[n](e);t.splice(0,t.length)};return{done:function(){return new Promise(function(n,r){e?n(e):t.push(function(){n(e)})})},call:function(t){e=n.ensureProperties(t,r),e.partner.applink=function(){return t.partner.applink?t.partner.applink:null}(),e.partner.appid=function(){if(t.partner.appid)return t.partner.appid;if(1052==t.partner.id){var e="fxfxdl";try{return window["__rvz"+e].product_name}catch(e){return null}}return 1006!=t.partner.id?null:void 0}(),i(e)}}}();return e.exports=t,e.exports}(),brappContent.library.browserCheck=function(){var e={exports:{}},n=function(){return new Promise(function(e,n){"use strict";var t=document.documentMode,r=function(){if(document.documentMode){try{delete document.documentMode}catch(e){}return t===document.documentMode||(document.documentMode=t,!1)}},i=function(){var e=document.createElement("div");return e.innerHTML="<!--[if IE]><i></i><![endif]-->",1===e.getElementsByTagName("i").length};e(r()?t>8?{supported:!0,ie:!0}:{supported:!1}:i()?{supported:!1}:{supported:!0})})};return e.exports=n,e.exports}(),brappContent.library.crossIframeManager=function(){function e(){function e(e,n){for(var t=e.length;t--;)return e[t].win===n}function n(e){var n=null,t=e.source,r=e.origin,o=null,s=null,u=null;try{n=brappContent.library.natives.JSON.parse(e.data)}catch(e){return}if("string"==typeof n.method){var l=n.method.split("::");2==l.length?(o=l[0],u=l[1]):u=n.method}if("undefined"!=typeof n.id&&(s=n.id),"string"==typeof u){var c=!1;if(i[r]&&i[r][o])for(var d=0;d<i[r][o].length;d++)if(i[r][o][d].win===t){i[r][o][d].handler(r,u,n),c=!0;break}if(!c&&i["*"]&&i["*"][o])for(var p=0;p<i["*"][o].length;p++)if(i["*"][o][p].win===t){i["*"][o][p].handler(r,u,n);break}}else"undefined"!=typeof s&&a[s]&&a[s](r,u,n)}var r=Math.floor(1000001*Math.random()),i={},o="[CROSS IFRAME MANAGER]",a={};window.addEventListener("message",n,!1),this.createChannel=function(n){function s(e,n,r){var i=!1,a=!1;return{origin:n,invoke:function(n,i){if(!b[e])return void t.error("invalid transaction id on invoke",o);for(var a=!1,s=0;s<r.length;s++)if(n===r[s]){a=!0;break}return a?void c({id:e,callback:n,params:i}):void t.error('invalid callback "'+n+'" on invoke',o)},error:function(n,r){return a=!0,b[e]?(delete b[e],void c({id:e,error:n,message:r})):void t.error("error call on non-existent message",o)},complete:function(n){return a=!0,b[e]?(delete b[e],void c({id:e,result:n})):void t.error("complete call on non-existent message",o)},delayReturn:function(e){return"boolean"==typeof e&&(i=e===!0),i},completed:function(){return a}}}function u(e,n,r){if(r.id&&n){if(m[n]){var i=s(r.id,e,r.callbacks?r.callbacks:[]);b[r.id]={};try{if(r.callbacks&&r.callbacks.constructor.toString().indexOf("Array")!==-1&&r.callbacks.length>0)for(var u=0;u<r.callbacks.length;u++){for(var l=r.callbacks[u],c=r.params,d=l.split("/"),p=0;p<d.length-1;p++){var f=d[p];"object"!=typeof c[f]&&(c[f]={}),c=c[f]}c[d[d.length-1]]=function(){var e=l;return function(n){return i.invoke(e,n)}}()}var y=m[n](i,r.params);i.delayReturn()||i.completed()||i.complete(y)}catch(e){i.error("run error",e.toString())}}}else r.id&&r.callback?g[r.id]&&g[r.id].callbacks&&g[r.id].callbacks[r.callback]?g[r.id].callbacks[r.callback](r.params):t.log("ignoring invalid callback, id:"+r.id+"("+r.callback+")",o):r.id?g[r.id]?(r.error?(0,g[r.id].error)(r.error,r.message):void 0!==r.result?(0,g[r.id].success)(r.result):(0,g[r.id].success)(),delete g[r.id],delete a[r.id]):t.log("ignoring invalid response: "+r.id,o):n&&m[n]&&m[n]({origin:e},r.params)}function l(e){return"string"==typeof n.scope&&n.scope.length&&(e=[n.scope,e].join("::")),e}function c(e,t){t||y?n.targetWindow.postMessage(brappContent.library.natives.JSON.stringify(e),n.targetOrigin):h.push(e)}function d(e,r){if(y)return void t.error("ready message in ready state error",o);for(x.unbind("__ready"),y=!0,"win_handshake"===r&&c({method:l("__ready"),params:"win_handshake"});h.length;)c(h.pop());n.onReady(x)}if("*"!==n.targetOrigin){var p=n.targetOrigin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/);if(null===p)return t.error("build error: invalid origin",o),!1;n.targetOrigin=p[0].toLowerCase()}var f=(0|9e8*Math.random()).toString(36),m={},g={},b={},y=!1,h=[],v=!1;if("*"===n.targetOrigin){for(var w in i)if(i.hasOwnProperty(w)&&"*"!==w&&"object"==typeof i[w][n.scope]&&(v=e(i[w][n.scope],n.targetWindow)))break}else i["*"]&&i["*"][n.scope]&&(v=e(i["*"][n.scope],n.targetWindow)),!v&&i[n.targetOrigin]&&i[n.targetOrigin][n.scope]&&(v=e(i[n.targetOrigin][n.scope],n.targetWindow));if(v)return void t.error('channel overlap on origin "'+n.targetOrigin+'" and scope "'+n.scope+'"',o);"object"!=typeof i[n.targetOrigin]&&(i[n.targetOrigin]={}),"object"!=typeof i[n.targetOrigin][n.scope]&&(i[n.targetOrigin][n.scope]=[]),i[n.targetOrigin][n.scope].push({win:n.targetWindow,handler:u});var x={unbind:function(e){try{delete m[e]}catch(e){return!1}return!0},bind:function(e,n){e&&n&&!m[e]||t.error("bind error - invalid parameters",o),m[e]=n},call:function(e){if(!e.method||!e.success)return void t.error("invlid arguments to call",o);var n={},i=[],s=[],d=function(e,r){if(s.indexOf(r)>=0)return void t.error("some recursive error magic",o);if(s.push(r),"object"==typeof r)for(var a in r)if(r.hasOwnProperty(a)){var u=e+(e.length?"/":"")+a;"function"==typeof r[a]?(n[u]=r[a],i.push(u),delete r[a]):"object"==typeof r[a]&&d(u,r[a])}};d("",e.params);var p={id:r,method:l(e.method),params:e.params};i.length&&(p.callbacks=i),g[r]={callbacks:n,error:e.error,success:e.success},a[r]=u,r++,c(p)},destroy:function(){try{for(var e=i[n.targetOrigin][n.scope],r=0;r<e.length;r++)e[r].win===n.targetWindow&&e.splice(r,1);0===i[n.targetOrigin][n.scope].length&&delete i[n.targetOrigin][n.scope],window.removeEventListener("message",u,!1),y=!1;for(var a in m)delete m[a];for(var s in b)delete b[s];for(var l in g)delete g[l];n.targetOrigin=null,h=[],t.log('channel "'+f+'" destroyed',o),f=""}catch(e){t.error("destroy channel error: "+e.toString(),o)}}};return x.bind("__ready",d),window.setTimeout(function(){c({method:l("__ready"),params:"win_handshake"},!0)},0),x}}var n={exports:{}},t=brappContent.library.logger;return n.exports=function(){return!!(window.postMessage&&JSON&&brappContent.library.natives.JSON.parse&&brappContent.library.natives.JSON.stringify&&window.addEventListener)&&new e}(),n.exports}(),brappContent.library.pageReady=function(){var e={exports:{}},n=brappContent.library.promiseCollection(),t=brappContent.library.eventHandlers,r="complete"==window.document.readyState||"interactive"==window.document.readyState||"loaded"===window.document.readyState;return r?n.invoke():t.addEventListener(document,"DOMContentLoaded",function(e){n.invoke()}),e.exports=n.registerPromise,e.exports}(),brappContent.core.infoDeliverer=function(){function e(){try{for(var e=document.location.hostname,n=!1,t=e.split("."),r="";t.length>0&&!n;){if(n=i.tldsArray.indexOf(t.join("."))>-1)return r+"."+t.join(".");r=t[0],t.splice(0,1)}return!1}catch(e){return!1}}var n={exports:{}},t=brappContent.library.logger,r=brappContent.core.init,i={"info":{"partner":{"id":"1254","partnerId":"1254","partner_Id":"1254","partnerID":"1254","partner_ID":"1254","subId":"brow_gr","sub_id":"brow_gr","subID":"brow_gr","sub_ID":"brow_gr","appid":"rf","applink":null},"rules":{"v":1,"l":"^https?://.*openclassrooms.com/.","t":"(//*[@itemprop=\"name\" or @property=\"name\"] | //h1 | //h1[@itemprop=\"name\"] | //meta[@itemprop=\"name\"]/@content | //h1[@itemprop='name'] | //h1[@itemprop=\"name\"]  | //span[@itemprop=\"name\"] | //h1 )[1]","p":"(//*[@itemprop=\"price\" or @property=\"price\"] | //meta[@itemprop=\"price\"]/@content | //span[@itemprop=\"price\"] | //meta[@itemprop=\"price\"]/@content  | //span[@itemprop=\"price\"]  | //span[@itemprop='price'] | //span[@itemprop=\"price\"]/@content | //span[@class='price'])[1]","n":{"r":0,"x":"(//*[@itemprop=\"serialNumber\" or @property=\"serialNumber\"] | //span[@itemprop=\"mpn\"] | //span[@itemprop='model'] | //span[@itemprop=\"sku\"] | //span[@itemprop=\"sku\"]  | //span[@itemprop=\"mpn\"]  | //meta[@itemprop=\"mpn\"]/@content | //span[@itemprop=\"productID\"] )[1]"},"m":{"r":0,"x":"(//*[@itemprop=\"seller\" or @property=\"seller\" or @itemprop=\"seller\" or @property=\"seller\"] | //meta[@itemprop=\"brand\"]/@content | //span[@itemprop=\"brand\"] | //meta[@itemprop=\"brand\"]/@content  | //a[@class=\"logo\"]/@title  | //span[@itemprop=\"brand\"]  | //span[@itemprop='brand'] | //meta[@property=\"og:site_name\"]/@content )[1]"},"e":{"r":0,"x":"(//*[@itemprop=\"gtin8\" or @property=\"gtin8\"] | //meta[@itemprop=\"gtin13\"]/@content | //span[@itemprop=\"gtin13\"] | //meta[@itemprop='gtin13']/@content | translate(substring-before(substring-after(//script[contains(text(), 'productEans')], 'productEans'), ','), translate(., '0123456789', ''), '') | //meta[@itemprop=\"gtin14\"]/@content | //span[@itemprop='gtin13'] | //script[@data-flix-ean]/@data-flix-ean)[1]"},"ca":{"r":0,"x":"(//*[@itemprop=\"category\" or @property=\"category\"] | //meta[@itemprop=\"category\"]/@content | concat(//div[@class=\"breadcrumbs\"]/ul/li[2]/a,\" \",//div[@class=\"breadcrumbs\"]/ul/li[3]/a,\" \",//div[@class=\"breadcrumbs\"]/ul/li[4]/a,\" \",//div[@class=\"breadcrumbs\"]/ul/li[5]/a)  | translate(substring-after(//div[@class=\"breadcrumbs\"]/ul,\"Home\"),\"/\",\"\")  | //div[@class=\"breadcrumbs\"]/ul  | concat(//div[@class=\"breadcrumbs\"]/ul/li[2]/a,\" \",//div[@class=\"breadcrumbs\"]/ul/li[3]/a,\" \",//div[@class=\"breadcrumbs\"]/ul/li[4]/a,\" \",//div[@class=\"breadcrumbs\"]/ul/li[5]/a,\" \",//div[@class=\"breadcrumbs\"]/ul/li[6]/a)  | concat(//ol[@class=\"breadcrumb\"]/li[2]/a,\" \",//ol[@class=\"breadcrumb\"]/li[3]/a,\" \",//ol[@class=\"breadcrumb\"]/li[4]/a,\" \",//ol[@class=\"breadcrumb\"]/li[5]/a)  | concat(//div[@class=\"breadcrumb\"]/a[2],\" \",//div[@class=\"breadcrumb\"]/a[3],\" \",//div[@class=\"breadcrumb\"]/a[4],\" \",//div[@class=\"breadcrumb\"]/a[5]) )[1]"},"u":{"r":0,"x":"(//*[@itemprop=\"gtin12\" or @itemprop=\"gtin13\" or @property=\"gtin12\" or @property=\"gtin13\"] | //th[contains(text(),\"UPC\")]/following-sibling::td[1] )[1]"},"c":{"r":0,"x":"//*[@itemprop=\"priceCurrency\" or @property=\"priceCurrency\"]"},"v2":{"ogpCSSRules":{"t":"meta[content $='product'] ~ meta[property='og:title']","p":"meta[property='product:price:amount']","c":"meta[property='product:price:currency']","m":"meta[property='product:brand']","e":"meta[property='product:ean']","i":"meta[property='product:isbn']","u":"meta[property='product:upc']","ca":"meta[property='product:category']"},"schemaCSSRules":{"p":"[itemprop='price']","t":"[itemprop='name']","c":"[itemprop='priceCurrency']","m":"[itemprop='manufacturer']","u":"[itemprop='gtin12']","e":"[itemprop='gtin13']","g":"[itemprop='gtin14']","ca":"[itemprop='category']"},"schemaXPATHRules":{"t":["//*[@itemtype='http://schema.org/Offer']//meta[@itemprop='name']/@content","//*[@itemtype='http://schema.org/Offer']//*[@itemprop='name']","//*[@itemtype='http://schema.org/Product']//meta[@itemprop='name']/@content","//*[@itemtype='http://schema.org/Product']//*[@itemprop='name']","//h1[@itemprop='name']","//meta[@itemprop='name']/@content","//*[@itemprop='name']"],"p":["//*[@itemtype='http://schema.org/Offer']//meta[@itemprop='price']/@content","//*[@itemtype='http://schema.org/Offer']//*[@itemprop='price']/@content","//*[@itemprop='price']/@content","//*[@itemprop='price']/text()","//*[@itemprop='price']"],"m":["//*[@itemtype='http://schema.org/Product']//meta[@itemprop='manufacturer']/@content","//*[@itemtype='http://schema.org/Product']//*[@itemprop='manufacturer']/@content","//*[@itemtype='http://schema.org/Product']//meta[@itemprop='brand']/@content","//*[@itemtype='http://schema.org/Product']//*[@itemprop='brand']/@content","//*[@itemprop='manufacturer']","//*[@itemprop='brand']"],"e":["//*[@itemtype='http://schema.org/Offer']//meta[@itemprop='gtin13']/@content","//*[@itemtype='http://schema.org/Offer']//*[@itemprop='gtin13']/@content","//*[@itemprop='gtin13']"],"ca":["//*[@itemtype='http://schema.org/Offer']//meta[@itemprop='category']/@content","//*[@itemtype='http://schema.org/Offer']//*[@itemprop='category']/@content","//*[@itemprop='category']"]}},"d":"openclassrooms.com"},"browser":{"SF":true},"checkUID":true,"config":{"cdn":{"host":"https://k8t3w3m6.ssl.hwcdn.net/v6/11/12"},"sdiframesrc":"https://api.similardeals.net/transport/test/proxy_sd_006.html"},"locale":"sn","aboutLink":"http://similardeals.net/","uid":"DEFAULT_1254"},"tldsArray":["coffee","aero","center","coop","boutique","msk.ru","co.nl","co.it","paris","com.pa","com.ec","ac.at","tur.br","uno","blogspot.in","co.hu","hu.com","shop.hu","bolt.hu","ingatlan.hu","za.org","za.com","co.ug","co.mz","rw","ng","za.net","com.gh","cm","ci","ca.it","tp.it","or.it","gr.it","ci.it","pi.it","at.it","sm","eu.com","ct.it","genova.it","vi.it","to.it","mb.it","blogspot.it","org.za","lu","tf","go.kr","am","co.at","com.mo","blogspot.no","com.bd","ge","no.com","as","vg","gov.au","net.au","org.au","blogspot.nl","ne.jp","or.jp","blogspot.se","org.tr","ms","swinoujscie.pl","opole.pl","limanowa.pl","shop.pl","gov.pl","waw.pl","edu.ar","g12.br","com.ve","br.com","om","s3.amazonaws.com","tn","com.pk","ly","com.ng","dp.ua","com.mm","ws","im","blogspot.de","co.kr","re","cn","blogspot.fr","krakow.pl","szczecin.pl","info.pl","edu.pl","zgora.pl","or.id","cat","sh","blogspot.ca","ab.ca","qc.ca","com.uy","blogspot.ch","hk","pe","hu","appspot.com","co.zw","com.tw","my","com.hk","lk","co.ke","gi","com.do","com.sg","jp","gov","com.sv","pf","nm.us","lv","sk","kr","ph","lt","mobi","edu.pt","com.cn","co.ao","blogspot.com.es","blogspot.com.au","ml","blogspot.hu","blogspot.com.br","blogspot.pt","od.ua","com.cy","name","tk","blogspot.com","com.ph","fo","bg","com.lb","tomsk.ru","co.il","com.sa","ir","store.ro","md","ro","so","la","si","co.rs","ba","co.me","hr","in.rs","rs","kz","dk","co.jp","dn.ua","co.za","ma","co.id","vn","sg","museum","ee","com.pt","software","cc","asia","fashion","london","me.uk","gr","org.uk","is","ie","su","by","com.ua","ua","net.ua","to","land","sklep.pl","org.pl","co.no","no","ac.in","live","co.in","pro","bnpparibas","io","club","edu.mx","cz","cl","mx","com.ar","com.pe","com.co","travel","dev","com.de","fm","fi","toys","nu","delivery","ae","org.br","com.mx","life","br","pt","edu","shop","uk","se","com.my","co","co.nz","com.tr","in","us.com","me","inf.br","net.pl","net.br","info","com.au","org","uk.com","biz","at","eu","us","ag","tv","co.th","be","es","com.pl","net","it","fr","com.es","ca","nl","pl","ru","ch","de","com.br","co.uk","com"]},o="[INFO DELIVERER]: ",a={partner:{id:i.info.partner.id,partnerId:i.info.partner.partnerID,sub_id:i.info.partner.sub_id,subId:i.info.partner.sub_id,appid:i.info.partner.appid||"",applink:i.info.partner.applink||""},rules:i.info.rules,user:{uid:i.info.uid,ext:"",locale:i.info.locale},browser:{SF:i.info.browser.SF},baseUrl:"https://go.similardeals.net",tldArray:i.tldsArray,domain:{rules:i.info.rules.d,impressions:i.info.rules.d},config:i.info.config||{},aboutLink:i.info.aboutLink||""},s=e();s===!1?t.warn("TLDR domain is false",o):a.domain.impressions=s;for(var u in i.info)a.hasOwnProperty(u)===!1&&(a[u]=i.info[u]);return r.call(a),n.exports}(),brappContent.engine.similarDeals=function(){function e(){function e(){a.done().then(function(e){if(l=brappContent.library.natives.JSON.parse(brappContent.library.natives.JSON.stringify(e)),l.hasOwnProperty("config")===!0)if(l.config.hasOwnProperty("sdiframesrc")===!0)if(f.setAjaxFrameSrc(l.config.sdiframesrc),l.user.uid&&""!==l.user.uid&&l.rules&&""!==l.rules){var t=p.extractSD(l.rules);t?t.query&&t.query.keywords&&""!==t.query.keywords?(t.config.uid=l.user.uid,t.config.partner_id=l.partner.id,t.config.partner_sub_id=l.partner.subId,c=t,o.info("Some data was extracted from the page",n),f.setup(function(e){e===!1&&u(new Error("There was an error while setting up ajax frame"))})):(l=null,o.warn("Invalid data was extracted from the page",n),u(new Error("Invalid data was extracted from the page"))):(l=null,o.warn("No data was extracted from the page",n),u(new Error("No valid data was extracted from the page")))}else u(new Error("Invalid info object was received"));else u(new Error("The resolved info object did not contain pc iframe src"));else u(new Error("The resolved info object did not the config property"))})}var n="[SIMILAR DEALS]",s=null,u=null,l=null,c=null,d=new Promise(function(e,n){s=e,u=n});this.getSimilarDealsPromise=function(){return d};var p=new function(){function e(e){try{if(!e)return!1;var r=t.evaluate(e,document,null,0,null),i="";switch(r.resultType){case 1:i=r.numberValue.toString();break;case 2:i=r.stringValue;break;case 3:i=r.booleanValue.toString();break;default:var a=r.iterateNext();if(!a)return!1;if(a.textContent)i=a.textContent;else if(a.innerText)i=a.innerText;else if(a.value)i=a.value;else{if(!a.text)return!1;i=a.text}}return i.replace(/[\t\r\n ]+/gim," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/gim,"")}catch(t){return o.error('extract xpath data error on "'+e+'": '+t.toString(),n),!1}}var t=this,r=!1;this.setReadyState=function(e){r=e},this.evaluate=null,this.appendLibsIFrame=function(e){try{var r=document.getElementById(brappContent.originName+"Libs");r.parentNode.removeChild(r)}catch(e){}try{var i=window.document.createElement("iframe");i.id=brappContent.originName+"Libs",i.style.display="none",i.src=window.document.domain===window.document.location.hostname?"about:blank":'javascript:void((function(){document.open();document.domain="'+document.domain+'";document.close();})())',i.addEventListener("load",function(){try{var r=document.getElementById(brappContent.originName+"Libs").contentWindow,i=r.document,a=i.createElement("script");a.setAttribute("src","//s3.amazonaws.com/cdn."+brappContent.originName+".com/libs/js/wgxpath.install.js");var s=!1;a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!==this.readyState&&"interactive"!==this.readyState&&"complete"!==this.readyState||(s=!0,a.onload=a.onreadystatechange=null,r.wgxpath.install(),t.evaluate=function(e,n,t,r,o){return i.evaluate(e,n,t,r,o)},o.log("external document evaluate ready",n),e(!0))},i.getElementsByTagName("head")[0].appendChild(a)}catch(t){o.error("library iframe load handler error: "+t.toString(),n),e(!1)}},!1),document.body.appendChild(i)}catch(t){o.error("append library iframe error: "+t.toString(),n),e(!1)}},this.extractSD=function(t){try{if(!r)return null;if(!t)return o.error("[extractSD] no rules supplied to the function",n),null;if(t.t=t.tc?t.tc[0]:t.t?t.t:null,!t.t)return o.error("[extractSD] no rule title",n),null;var i=t.rx?t.rx:t.l?t.l:".*",a=new RegExp(i);if(!a.test(document.location.href))return o.error("[extractSD] invalid document.location.href",n),null;var s=brappContent.library.natives.JSON.stringify(decodeURIComponent(document.location.href));'"'===s.substring(0,1)&&(s=s.substring(1,s.length-1));var u={query:{merchant_core_url:t.d,product_url:encodeURIComponent(encodeURIComponent(s))},config:{partner_id:"",partner_sub_id:"",uid:""}};try{u.query.referrer=encodeURIComponent(document.referrer)}catch(e){}var l={t:"keywords"},c={p:"price",c:"currency",m:"manufacturer",u:"product_number",e:"product_number",g:"product_number",i:"product_number",z:"product_number",n:"model_number",ca:"category"},d=function(n){if(!n)return null;for(var t=null,r=0;r<n.length&&!(t=e(n[r]));r++);return t},p=function(e){if(!e)return null;try{var n=document.querySelector(e);return n?n.innerText?n.innerText.replace(/[\t\r\n ]+/gim," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/gim,""):n.content?n.content.replace(/[\t\r\n ]+/gim," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/gim,""):null:null}catch(e){return null}},f={},m={},g={};t.v2&&t.v2.ogpCSSRules&&(g=t.v2.ogpCSSRules),t.v2&&t.v2.schemaCSSRules&&(f=t.v2.schemaCSSRules),t.v2&&t.v2.schemaXPATHRules&&(m=t.v2.schemaXPATHRules);for(var b in l){var y=p(g[b]);if(y||(y=d(m[b]),y||(y=p(f[b]),y||(y=e(t[b])))),!y)return o.error("[extractSD] invalid mandatory extract data return",n),null;u.query[l[b]]=y}for(var h in c)if(t[h])if("p"===h){var v=p(g[h]);v||(v=d(m[h]),v||(v=p(f[h]),v||(v=e(t[h])))),v&&(u.query[c[h]]=v)}else{var w=p(g[h]);if(w||(w=d(m[h]),w||(w=p(f[h]),w||(w=e(t[h].x)))),w)u.query[c[h]]=w;else if(1===t[h].r)return o.error("[extractSD] invalid optional data",n),null}return u}catch(e){return o.error("[extractSD] run error: "+e.toString(),n),null}},this.setup=function(e){r===!1&&(o.log("libs iframe setup",n),t.appendLibsIFrame(function(t){t===!0?(o.log("libs iframe loaded",n),r=!0,e(!0)):(o.error("libs iframe not loaded",n),e(!1))}))}},f=new function(){function e(){if(a)return!1;try{return d=r.createChannel({targetWindow:document.getElementById("InfoSDProxy").contentWindow,targetOrigin:t,scope:"InfoSDFrame",onReady:function(){o.log("ajax iframe channel ready",n),null!==c&&d.call({method:"getSimilarDeals",params:encodeURIComponent(brappContent.library.natives.JSON.stringify(c)),success:function(e){}})}}),d.bind("gotSimilarDeals",function(e,t){l=null;var r=brappContent.library.natives.JSON.parse(t.data);if(200!==t.status)o.error("SimilarDeals return status not OK",n),u(new Error("Invalid response return"));else if(0!==r.FoundOffers.amount){o.log("SimilarDeals returned SOME",n);try{s(r)}catch(e){u(e)}}else o.log("SimilarDeals returned: NONE",n),u(new Error("There are no deals to display"))}),d.bind("log",function(e,t){o[t.type]("[KID AJAX CHANNEL] "+t.data,n)}),!0}catch(e){return o.error("ajax iframe channel creation error",n),d=null,!1}}var t="",i=this,a=!1,d=null;this.setAjaxFrameSrc=function(e){t=e},this.appendAjaxIFrame=function(e){if(a)e(!1);else{try{var r=document.getElementById("InfoSDProxy");r.parentNode.removeChild(r)}catch(e){}try{var i=document.createElement("iframe");i.id="InfoSDProxy",i.style.display="none",i.src=t,i.addEventListener("load",function(){e(!0)},!1),document.body.appendChild(i)}catch(t){o.error("append ajax iframe error: "+t.toString(),n),e(!1)}}},this.setup=function(r){""!==t&&a===!1?i.appendAjaxIFrame(function(t){if(t===!0){o.log("ajax iframe loaded",n);var i=e();a=!!i}else a=!1;a===!0?o.info("ajax iframe ready",n):o.warn("ajax iframe not ready",n),r(a)}):(o.warn("ajax iframe not ready",n),r(!1))}};i().then(function(r){r.supported===!0&&t().then(function(){if(r.hasOwnProperty("ie"))o.info("IE detected",n),p.setup(function(t){t===!0?(o.info("evaluate iframe ready",n),e()):o.error("evaluate iframe setup err",n)});else try{p.evaluate=function(e,n,t,r,i){return window.document.evaluate(e,n,t,r,i)},p.setReadyState(!0),o.info("evaluate iframe ready",n),e()}catch(e){p.setReadyState(!1),o.error("evaluate iframe setup err",n)}})})}var n={exports:{}},t=brappContent.library.pageReady,r=brappContent.library.crossIframeManager,i=brappContent.library.browserCheck,o=brappContent.library.logger,a=brappContent.core.init,s=new e;return n.exports.onDeals=function(){return s.getSimilarDealsPromise()},n.exports}(),brappContent.engine.coupons=function(){var e={exports:{}},n=brappContent.core.init,t=function(){var e="",t="",r={};return new Promise(function(i,o){n.done().then(function(n){"use strict";if(r.domain=n.domain.impressions,n.rules.couponsInExtension)r.couponsInExtension=n.rules.couponsInExtension,i(r);else if(n.rules.cp&&n.rules.cp.c&&n.rules.cp.pid&&n.user.uid){0===n.rules.cp.n&&o("No coupons found"),r.couponsInBlog={},r.couponsInBlog.amount=n.rules.cp.n,r.couponsInBlog.domain=n.domain.rules;var a="foxydeal";n.rules.cp.src&&"cg"==n.rules.cp.src&&(a="comprigo"),e="http://go."+a+".com",t=e+"/"+n.rules.cp.c+"/"+n.rules.cp.pid+"/"+n.user.uid,r.couponsInBlog.url=t,i(r)}else o("CP rules nonexistent or incomplete.")})})};return e.exports=t,e.exports}(),brappContent.engine.addPartnerInfo=function(){var e={exports:{}},n=brappContent.core.init;return e.exports=function(){var e={};return new Promise(function(t,r){n.done().then(function(n){"use strict";n.partner&&n.partner.appid?(e.text=n.partner.appid,n.partner.applink&&(e.link=n.partner.applink),n.appInfo&&(e.appInfo=n.appInfo),t(e)):r("About link data not set.")})})},e.exports}(),brappContent.engine.addAboutLink=function(){var e={exports:{}},n=brappContent.core.init;return e.exports=function(){var e={text:"About"};return new Promise(function(t,r){n.done().then(function(n){"use strict";n.aboutLink?(e.link=n.aboutLink,t(e)):r("About link data not set.")})})},e.exports}(),brappContent.ui.fdUi=function(){var e="",n=[],t=0,r={exports:{}},i={pageReady:function(){"use strict";var e=function(n){t=!1,e.isReady=!1,"function"==typeof n&&(r=n),a()},n=window.document,t=!1,r=function(){},i=function(){n.addEventListener?n.removeEventListener("DOMContentLoaded",i,!1):n.detachEvent("onreadystatechange",i),o()},o=function(){if(!e.isReady){if(!n.body)return setTimeout(o,1);e.isReady=!0,r()}},a=function(){var e=!1;if(!t)if(t=!0,"loading"!==n.readyState&&o(),n.addEventListener)n.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",i),window.attachEvent("onload",i);try{e=null==window.frameElement}catch(e){}n.documentElement.doScroll&&e&&s()}},s=function(){if(!e.isReady){try{n.documentElement.doScroll("left")}catch(e){return void setTimeout(s,1)}o()}};return e.isReady=!1,e}(),onInitialized:function(){var e,n=[],t=!1;return{register:function(r){t?r.apply(null,e):n.push(r)},invoke:function(){for(e=arguments,t=!0,callbackInd=0;callbackInd<n.length;callbackInd++)n[callbackInd].apply(null,e)}}}(),main:{addEventListener:function(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t)},fireEvent:function(e,n){parent.postMessage(brappContent.library.natives.JSON.stringify({event:e,data:n}),"*")}},ui:{window:{},config:{prefix:"display-",globalStyles:"position:fixed;display:none;opacity:0;z-index:2147483647 !important;background:none;"},closeCallbacks:[],reportImpression:function(){var e=!1;return function(n){if(!e){var t=brappContent.core.init;t.done().then(function(e){"use strict";var t={coupons:24,offers:21},r="https://transaction."+brappContent.originName+".com/aff_i?offer_id="+t[n]+"&aff_id="+encodeURIComponent(e.partner.id.toString())+"&aff_sub5="+(e.domain.impressions?e.domain.impressions:brappContent.originName+".de"),i=document.createElement("img");i.setAttribute("src",r),i.setAttribute("style","visibility: hidden;"),document.body.appendChild(i)})}}}(),frames:{container:{bar:{element:null,window:null,styles:"top:0;left:0;width:100%;",measure:["100%","55px"]},couponsbar:{element:null,window:null,styles:"top:0;left:0;width:100%;",measure:["100%","55px"]},bigcouponbar:{element:null,window:null,styles:"top:0;left:0;width:100%;",measure:["100%","80px"]},list:{element:null,window:null,styles:"top:50px;",measure:["560px","370px"]},couponslist:{element:null,window:null,styles:"top:50px;",measure:["470px","370px"]},welcome:{element:null,window:null,styles:"top:50px;left:50%;margin-left:-190px;",measure:["380px","310px"]},coupons:{element:null,window:null,styles:"top:0;left:0;",measure:["40px","40px"]}},inject:function(e){var n=brappContent.core.init;n.done().then(function(n){"use strict";i.ui.window.couponsActive=!1;var t=0,r=!1;for(var o in i.ui.frames.container){var a=i.ui.frames.container[o];brappContent.ui.fdUi.frames.injectFrame(n.config.cdn.host+"/"+o+".html",o,a.styles,a.measure[0],a.measure[1]),i.ui.window[o]=document.getElementById(i.ui.config.prefix+o),i.ui.window[o+"Window"]=i.ui.window[o].contentWindow,i.ui.frames.container[o].element=i.ui.window[o],i.ui.frames.container[o].window=i.ui.window[o+"Window"],{bar:!0,list:!0,couponsbar:!0,coupons:!0,welcome:!0,bigcouponbar:!0,couponslist:!0}[o]&&i.main.addEventListener(i.ui.window[o],"load",function(){t++,e&&7===t&&e(r)})}})},injectFrame:function(e,n,t,r,o){var a=document.createElement("iframe");a.setAttribute("src",e),a.setAttribute("id",i.ui.config.prefix+n),a.setAttribute("style",t+i.ui.config.globalStyles),a.setAttribute("frameborder","0"),a.setAttribute("scrolling","no"),a.setAttribute("width",r),a.setAttribute("height",o),document.body.appendChild(a)},toggle:function(e){var n=this.findFrame(e);return 1==n.style.opacity?(this.hide(e),0):(this.show(e),1)},hide:function(e){if("bar"===e&&("www.google.co.uk"===document.location.hostname||"www.google.de"===document.location.hostname)){var t=document.getElementById("viewport");t&&(t.style.top="0px")}var r=this.findFrame(e);if(r.style.opacity="0",r.style.pointerEvents="none",r.style.display="none","couponsbar"===e||"bar"===e)for(var i=0;i<n.length;i++){var o=parseInt(window.getComputedStyle(n[i]).top)-55;o<0&&(o=0),n[i].style.top=o+"px"}else if("bigcouponbar"===e)for(var a=0;a<n.length;a++){var s=parseInt(window.getComputedStyle(n[a]).top)-80;s<0&&(s=0),n[a].style.top=s+"px"}if("bar"==e){var u=document.getElementById("miniATFUDP"),l=document.getElementById("fk-mainhead-id");document.querySelector("html").style.paddingTop="0",null!==l&&(l.style.top="0"),null!==u&&(u.style.marginTop="0"),this.hide("couponsbar"),this.hide("list"),this.hide("welcome"),this.hide("bigcouponbar"),this.hide("couponslist")}},show:function(t){if("bar"===t&&("www.google.co.uk"===document.location.hostname||"www.google.de"===document.location.hostname)){var r=document.getElementById("viewport");if(!r)return;r.style.top="55px"}var i=this.findFrame(t);if(e=t,i.style.opacity="1",i.style.pointerEvents="initial",i.style.display="block",this.showOnTop(),"couponsbar"===t||"bar"===t)for(var o=0;o<n.length;o++)n[o].style.top="55px";else if("bigcouponbar"===t)for(var a=0;a<n.length;a++)n[a].style.top="80px";if("bar"===t||"couponsbar"===t){var s=document.getElementById("miniATFUDP"),u=document.getElementById("fk-mainhead-id");document.querySelector("html").style.paddingTop="54px",null!==s&&(s.style.marginTop="54px"),null!==u&&(u.style.top="54px")}else if("bigcouponbar"===t){document.querySelector("html").style.paddingTop="80px";var s=document.getElementById("miniATFUDP"),u=document.getElementById("fk-mainhead-id");document.querySelector("html").style.paddingTop="80px",null!==s&&(s.style.marginTop="80px"),null!==u&&(u.style.top="80px")}},findFrame:function(e){var n=i.ui.frames.container[e].element;return null===n&&(n=document.getElementById(i.ui.config.prefix+e)),n},findWindow:function(e){var n=i.ui.frames.container[e].window;return null===n&&(n=document.getElementById(i.ui.config.prefix+e).contentWindow),n},showOnTop:function(){var r,o,a=function(e){var n=function(e){switch(e.nodeName.toUpperCase()){case"DIV":return!0;case"IFRAME":return!0;default:return!1}},t=[],r=e;if(e){for(;e=e.previousSibling;)n&&!n(e)||t.push(e);for(;r=r.nextSibling;)n&&!n(r)||t.push(r)}return null!==document.getElementById("abs-top-frame")&&t.push(document.getElementById("abs-top-frame")),t},s=document.getElementById(i.ui.config.prefix+"bar"),u=[i.ui.config.prefix+"bar",i.ui.config.prefix+"couponsbar",i.ui.config.prefix+"bigcouponbar",i.ui.config.prefix+"coupons",i.ui.config.prefix+"list",i.ui.config.prefix+"couponslist",i.ui.config.prefix+"welcome","InfoFDProxy","InfoInfoFrame"],l=2147483647,c=!1,d=function(){var t=a(s),i=0;"couponsbar"===e||"bar"===e?i=55:"bigcouponbar"===e&&(i=80);for(var d=0;d<t.length;d++)if(u.indexOf(t[d].id)>0)"display-coupons"==t[d].id&&"block"==t[d].style.display&&(c=!0);else if(r=parseInt(window.getComputedStyle(t[d]).top,10),o=window.getComputedStyle(t[d]).zIndex,(0==r||r<i)&&o>=l){if(c){var p=document.createElement("div");return p.style.position="relative",p.style.zIndex=l-10,p.appendChild(t[d]),void document.getElementsByTagName("body")[0].appendChild(p)}if("DIV"==t[d].nodeName.toUpperCase()){n.push(t[d]),t[d].style.zIndex=l-20;var f=document.createElement("div");f.style.position="relative",f.style.zIndex=l-20,f.appendChild(t[d]),document.getElementsByTagName("body")[0].appendChild(f);
}else n.push(t[d]),t[d].style.zIndex=l-20}};d();var p=function(){var t=0,i=!1;if("couponsbar"===e||"bar"===e?(i=!0,t=55):"bigcouponbar"===e&&(i=!0,t=80),i===!0&&0!==parseInt(window.getComputedStyle(s).top,10)&&(s.style.top="0px",s.style.zIndex=l),"coupons"!==e&&""!==e)for(var d=a(s),p=0;p<d.length;p++)if(""!==e&&u.indexOf(d[p].id)>0)"display-coupons"==d[p].id&&"block"==d[p].style.display&&(c=!0);else if(r=parseInt(window.getComputedStyle(d[p]).top,10),o=window.getComputedStyle(d[p]).zIndex,(0==r||r<t)&&o>=l&&n.indexOf(d[p])<0){n.push(d[p]);var f="55px";if("bigcouponbar"==e&&(f="80px"),"DIV"==d[p].nodeName.toUpperCase()){d[p].style.top=f,d[p].style.zIndex=o-10;var m=document.createElement("div");m.style.position="relative",m.style.zIndex=l-10,m.appendChild(d[p]),document.getElementsByTagName("body")[0].appendChild(m)}else"IFRAME"==d[p].nodeName.toUpperCase()&&(d[p].style.top=f,d[p].style.zIndex=o-10)}},f=setInterval(function(){t++,p(),t>10&&clearInterval(f)},3e3)}},addOffers:function(e){i.onInitialized.register(function(n){if(!n){this.offersData=e,i.ui.window.offersData=e;var t=brappContent.library.natives.JSON.stringify({event:"loadOfferContent",offerCount:e.FoundOffers.amount,offers:e.FoundOffers.OfferList});"undefined"!=typeof i.ui.window.barWindow&&"undefined"!=typeof i.ui.window.listWindow&&(i.ui.window.barWindow.postMessage(t,"*"),i.ui.window.listWindow.postMessage(t,"*"),i.ui.frames.hide("coupons"),i.ui.frames.hide("couponsbar"),i.ui.frames.show("bar"),i.ui.window.welcomeWindow.postMessage(brappContent.library.natives.JSON.stringify({displayWelcome:!0}),"*"),"undefined"!=typeof i.ui.window.couponsData&&i.ui.addCoupons(i.ui.couponsData),i.ui.reportImpression("offers"))}})},addCoupons:function(e){i.onInitialized.register(function(n){if(!n){i.ui.window.couponsActive=!0,i.ui.couponsData=e,i.ui.window.couponsData=e;var t;"object"==typeof e.couponsInExtension?(t=brappContent.library.natives.JSON.stringify({event:"loadCouponContent",coupons:e.couponsInExtension,domain:e.domain}),1==i.ui.window.bar.style.opacity?"undefined"!=typeof i.ui.window.barWindow&&(i.ui.window.barWindow.postMessage(t,"*"),i.ui.window.couponslistWindow.postMessage(t,"*")):(i.ui.window.couponslistWindow.postMessage(t,"*"),i.ui.frames.findWindow("coupons").postMessage(brappContent.library.natives.JSON.stringify({event:"addCouponCount",count:e.couponsInExtension.length,domain:e.domain}),"*"),i.ui.frames.show("coupons"))):"object"==typeof e.couponsInBlog&&(t=brappContent.library.natives.JSON.stringify({event:"loadCouponContent",couponCount:e.couponsInBlog.amount,couponLink:e.couponsInBlog.url,domain:e.couponsInBlog.domain}),1==i.ui.window.bar.style.opacity?"undefined"!=typeof i.ui.window.barWindow&&i.ui.window.barWindow.postMessage(t,"*"):(i.ui.frames.findWindow("coupons").postMessage(brappContent.library.natives.JSON.stringify({event:"addCouponCount",count:e.couponsInBlog.amount,domain:e.couponsInBlog.domain}),"*"),i.ui.frames.show("coupons")))}})},addPartnerInfo:function(e){i.onInitialized.register(function(){var n=i.ui.frames.findWindow("bar"),t=i.ui.frames.findWindow("bigcouponbar"),r=i.ui.frames.findWindow("couponsbar"),o={event:"addPartnerInfo",text:e.text,link:e.link};e.appInfo&&(o.appInfo=e.appInfo),n.postMessage(brappContent.library.natives.JSON.stringify(o),"*"),t.postMessage(brappContent.library.natives.JSON.stringify(o),"*"),r.postMessage(brappContent.library.natives.JSON.stringify(o),"*")})},addAboutLink:function(e){i.onInitialized.register(function(){var n=i.ui.frames.findWindow("bar"),t=i.ui.frames.findWindow("bigcouponbar"),r=i.ui.frames.findWindow("couponsbar");n.postMessage(brappContent.library.natives.JSON.stringify({event:"addAboutLink",text:e.text,link:e.link}),"*"),t.postMessage(brappContent.library.natives.JSON.stringify({event:"addAboutLink",text:e.text,link:e.link}),"*"),r.postMessage(brappContent.library.natives.JSON.stringify({event:"addAboutLink",text:e.text,link:e.link}),"*")})},welcomePanel:function(e,n){i.onInitialized.register(function(){var t=brappContent.library.natives.JSON.stringify({event:"showWelcomePanel",welcomeMessage:e.text,aboutLink:e.link});"undefined"!=typeof i.ui.window.welcomeWindow&&(i.ui.frames.hide("list"),i.ui.frames.show("welcome"),i.ui.window.welcomeWindow.postMessage(t,"*"),"function"==typeof n&&n())})},goodbyePanel:function(e,n){i.onInitialized.register(function(){var t=brappContent.core.init;t.done().then(function(t){"use strict";i.ui.window.goodbye=i.ui.window.open(t.config.cdn.host+"/goodbye.html","_blank"),i.ui.window.goodbye.focus(),setTimeout(function(){i.ui.window.goodbye.postMessage(brappContent.library.natives.JSON.stringify({event:"loadGoodbyeContent",text:e.text}),"*"),n()},200)})})},onClose:function(e){i.onInitialized.register(function(){var e=this;i.ui.frames.hide("bar"),window.setTimeout(function(){e.removeElement(i.ui.window.list),e.removeElement(i.ui.window.bar),e.removeElement(i.ui.window.welcome)},200)})},displayFeedbackPanel:function(e){i.onInitialized.register(function(){})},displaySettings:function(e,n){i.onInitialized.register(function(){})},removeElement:function(e){i.onInitialized.register(function(){e.parentElement.removeChild(e)})}}};return i.main.addEventListener(window,"message",function(e){var n=null;try{n=brappContent.library.natives.JSON.parse(e.data)}catch(e){}if(n&&n.event){var t=!1;switch(n.data&&(t=n.data.open),n.event){case"toggleCompare":1==i.ui.window.list.style.opacity?t||i.ui.frames.hide("list"):(i.ui.frames.hide("couponslist"),i.ui.frames.show("list"),i.ui.frames.findWindow("list").postMessage(brappContent.library.natives.JSON.stringify({event:"getOffersListHeight"}),"*"),i.ui.window.list.style.left=n.data.position+"px",i.ui.frames.hide("welcome"));break;case"setOffersListHeight":i.ui.window.list.style.height=n.data.height+"px";break;case"toggleCoupons":1==i.ui.window.couponslist.style.opacity?t||i.ui.frames.hide("couponslist"):(i.ui.frames.hide("list"),i.ui.frames.show("couponslist"),i.ui.frames.findWindow("couponslist").postMessage(brappContent.library.natives.JSON.stringify({event:"getCouponsListHeight"}),"*"),i.ui.window.couponslist.style.left=n.data.position+"px",i.ui.frames.hide("welcome"));break;case"setCouponsListHeight":i.ui.window.couponslist.style.height=n.data.height+"px";break;case"closeBar":i.ui.frames.hide("bar"),i.ui.frames.hide("couponsbar"),i.ui.frames.hide("bigcouponbar"),i.ui.frames.hide("list"),i.ui.frames.hide("coupons"),i.ui.frames.hide("couponslist");break;case"closeWelcomeMessage":i.ui.window.welcome.style.opacity=0,i.ui.window.welcome.style.display="none";break;case"launchBigCouponsBar":i.ui.frames.hide("bar"),i.ui.frames.hide("couponsbar"),i.ui.frames.hide("list"),i.ui.frames.hide("coupons"),i.ui.frames.hide("couponslist"),i.ui.frames.show("bigcouponbar"),i.ui.frames.findWindow("bigcouponbar").postMessage(brappContent.library.natives.JSON.stringify({event:"populateBar",data:n.data}),"*");break;case"launchCoupons":i.ui.frames.hide("coupons"),i.ui.frames.show("couponsbar"),i.ui.frames.findWindow("couponsbar").postMessage(brappContent.library.natives.JSON.stringify({event:"updateCouponsCount",couponsData:i.ui.window.couponsData}),"*"),i.ui.reportImpression("coupons");break;case"posCouponsList":i.ui.frames.findFrame("list").style.left=n.position;break;case"displaySettingsDialog":i.ui.welcomePanel({});break;case"SimilarDealsDisable":i.ui.frames.hide("bar"),i.ui.frames.hide("couponsbar");break;case"displayWelcome":i.ui.welcomePanel({});break;case"resizeListBar":var r=function(e){i.ui.window.list.style.left=e+"px"};r(n.data);break;case"resizeCouponslistBar":var r=function(e){i.ui.window.couponslist.style.left=e+"px"};r(n.data)}}}),i.main.addEventListener(document,"click",function(e){i.ui.frames.hide("list"),i.ui.frames.hide("welcome"),i.ui.frames.hide("couponslist")}),i.pageReady(function(){i.ui.frames.inject(function(e){i.onInitialized.invoke(e)})}),r.exports=i.ui,r.exports}(),brappContent.index=function(){var e={exports:{}},n=brappContent.ui.fdUi,t=brappContent.engine.addAboutLink,r=brappContent.engine.addPartnerInfo,i=brappContent.engine.coupons,o=brappContent.engine.similarDeals;r().then(function(e){n.addPartnerInfo(e)},function(e){}),t().then(function(e){n.addAboutLink(e)},function(e){}),i().then(function(e){n.addCoupons(e)},function(e){}),o.onDeals().then(function(e){n.addOffers(e)},function(e){});brappContent.core.infoDeliverer;return e.exports}(),brappContent.aboutDisableButton=function(){function e(e){for(var n=window.document.cookie.split("; "),t=n.length;t--;){var r=n[t].indexOf("=");r=r<0?n[t].length:r;var i=decodeURIComponent(n[t].substring(0,r));if(i===e)return{key:i,value:decodeURIComponent(n[t].substring(r+1,n[t].length))}}return""}function n(e){p.setAttribute("id","sf-disable-button"),p.setAttribute("style",u[l].thisStyleArray.join(";"));var n=document.createTextNode(d?"Enable "+u[l].thisText:"Disable "+u[l].thisText);p.appendChild(n);try{try{var t=document.getElementById("sf-disable-button");t.parentElement.removeChild(t)}catch(e){}try{var r=u[l].thisDocPath();r.appendChild(p),e(null)}catch(n){document.body.appendChild(p),e(null)}}catch(n){e(n)}}function t(e){try{p.addEventListener("click",r,!1),e(null)}catch(n){e(n)}}function r(e){try{var n=document.getElementById("sf-disable-button");try{for(var t in u[l].thisOnEnable){var r=document.getElementById(t.toString());r.parentElement.removeChild(r)}}catch(e){}if(d){for(var i in u[l].thisOnDisable){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("id",i.toString()),o.setAttribute("src",u[l].thisOnDisable[i]),document.getElementsByTagName("head")[0].appendChild(o)}n.firstChild.data="Disable "+u[l].thisText}else{for(var a in u[l].thisOnEnable){var s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("id",a.toString()),s.setAttribute("src",u[l].thisOnEnable[a]),document.getElementsByTagName("head")[0].appendChild(s)}n.firstChild.data="Enable "+u[l].thisText}d=!d}catch(e){}}var i=brappContent.core.init,o="",a=this,s={1012:!0,1026:!0,1040:!0,1052:!0,1054:!0,1068:!0,1070:!0,1081:!0,1091:!0,1096:!0,1098:!0,1100:!0,1104:!0,1108:!0,1110:!0,1114:!0,1120:!0,1124:!0,1126:!0,1130:!0,1142:!0,1149:!0,1083:!0,1183:!0,1197:!0,1199:!0,1203:!0,1205:!0,9999:!0},u=[{thisReg:/[\/|\.]similardeals\.net\/uninstall/i,thisDocPath:function(){var e=null;try{e=document.getElementsByClassName("text-page")[0].getElementsByClassName("container-fluid")[0].getElementsByClassName("row")[0].getElementsByClassName("container")[0].getElementsByClassName("panel")[0].getElementsByClassName("panel-body")[0]}catch(n){e=null}return e},thisStyleArray:["cursor:pointer","background:#DDC3B9 none repeat scroll 0% 0%;display:inline-block","font-weight:bold;padding:15px 20px","border-radius:5px;color:#FFF","font-size:14px;line-height:14px","text-transform:uppercase"],thisText:"similardeals",thisOnEnable:{fddm_scriptTag_1:"//client."+brappContent.originName+".com/disable/?callBack="+brappContent.originName+".onDisable",sddm_scriptTag_1:"//client.similardeals.net/disable/?callBack=SimilarDeals.onDisable"},thisOnDisable:{fddm_scriptTag_1:"//client."+brappContent.originName+".com/enable/",sddm_scriptTag_1:"//client.similardeals.net/enable/"}}],l=0,c=u.length,d=!1,p=document.createElement("BUTTON");this.setup=function(){try{if(s.hasOwnProperty(o)===!0){for(;c--;)if(document.location.href.match(u[c].thisReg)){l=c;try{var r=e("fddisabled");d=""!==r}catch(e){}n(function(e){null===e&&t(function(e){})})}c=u.length}}catch(e){c=u.length}},i.done().then(function(e){try{o=e.partner.id.toString(),o&&""!==o&&a.setup()}catch(e){}})}()}},thisScript=document.createElement("script");thisScript.text="("+thisPageScript+")();",(document.head||document.documentElement).appendChild(thisScript);